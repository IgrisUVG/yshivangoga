function makeScrollable(e,c){var e=$(e),c=$(c);c.hide();var d=$('<div class="loading">Загрузка...</div>').appendTo(e);var a=setInterval(function(){var f=c.find("img");var g=0;f.each(function(){if(this.complete){g++}});if(g==f.length){clearInterval(a);setTimeout(function(){d.hide();e.css({overflow:"hidden"});c.slideDown("slow",function(){b()})},1000)}},100);function b(){var i=99;var g=e.width();var l=e.height();var j=c.outerHeight()+2*i;var k=$('<div class="sc_menu_tooltip"></div>').css("opacity",0).appendTo(e);c.find("a").each(function(){$(this).data("tooltipText",this.title)});c.find("a").removeAttr("title");c.find("img").removeAttr("alt");var h;e.mousemove(function(q){h=q.target;var p=e.offset();var o=q.pageX-p.left;o=Math.min(o,g-75);var m=q.pageY-p.top+e.scrollTop()-40;if(q.pageY-p.top<l/2){m+=80}k.css({top:m,left:o});var n=(q.pageY-p.top)*(j-l)/l-i;if(n<0){n=0}e.scrollTop(n)});var f=setInterval(function(){if(!h){return}var n=k.text();if(h.nodeName=="IMG"){var m=$(h).parent().data("tooltipText");if(n!=m){k.stop(true).css("opacity",0).text(m).animate({opacity:1},1000)}}},200);e.mouseleave(function(){h=false;k.stop(true).css("opacity",0).text("")})}};